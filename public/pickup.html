<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <meta name="description" content="wedsite sample text">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quattrocento:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../app/styles/sanitize.css">
    <link rel="stylesheet" href="./styles/pickup.css">

    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
      
    <!-- jQuery + Bootstrap bundle -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  
</head>

<body>

<!-- 1. Header section -->
<header class="header">
    <div class="header-Logo">
        <img src="./Logo.png" alt="">
    </div>
    <nav class="header-nav">
        <ul class="header-navlist">
            <li class="header-navitem">
                <a href="index.html">TOP</a>
            </li>
            <li class="header-navitem">
                <a href="">ABOUT</a>
            </li>
            <li class="header-navitem">
                <a href="#">MENU</a>
            </li>
            <li class="header-navitem">
                <a href="pickup.html">PICK UP</a>
            </li>
            <li class="header-navitem">
                <a href="news.html">NEWS</a>
            </li>
            <li class="header-navitem">
                <a href="access.html">ACCESS</a>
            </li>
        </ul>
    </nav>
</header>


<!-- 2. main body -->
<br><br><br><br>
    <!-- PART 1. pickup orginal block -->
    <div class="part1-pickup-orginal-block" style="padding: 10px; margin-top: 100px;">
      
      </style>

      <div class="pickup-block">
        <!-- promo retained once and kept BEFORE the carousel (as requested) -->

        <br><br>
        <div class="carousel-container" aria-roledescription="carousel" aria-label="Pickup menu carousel">
          <button class="nav-arrow left" aria-label="Previous" title="Previous">‹</button>

          <div class="carousel-track" id="menu-track">
            <div class="card" data-index="0">
              <img src="menu/pickup_bread1.png" alt="Sourdough Loaf">
              <div class="card-caption">Sourdough Loaf — crunchy crust, open crumb. Best eaten same day.</div>
            </div>

            <div class="card" data-index="1">
              <img src="menu/pickup_cake1.png" alt="Signature Cheesecake">
              <div class="card-caption">Signature Cheesecake — silky, tangy cream cheese; reserve a slice.</div>
            </div>

            <div class="card" data-index="2">
              <img src="menu/pickup_cake2.png" alt="Chocolate Cookies">
              <div class="card-caption">Chocolate Cookies (Box) — rich chocolate chips, freshly baked.</div>
            </div>

            <div class="card" data-index="3">
              <img src="menu/pickup_coffee1.png" alt="Buttery Croissants">
              <div class="card-caption">Buttery Croissants — flaky, layered butter pastry; morning favourite.</div>
            </div>

            <div class="card" data-index="4">
              <img src="menu/pickup_coffee2.png" alt="Single-Origin Espresso">
              <div class="card-caption">Single-Origin Espresso — bright acidity and lasting crema.</div>
            </div>
          </div>

          <button class="nav-arrow right" aria-label="Next" title="Next">›</button>
        </div>
        <br><br>
        <!-- dots as ul placed below carousel -->
        <ul class="dots" id="menu-dots" aria-label="Carousel indicators">
          <li class="active" data-index="0" role="button" aria-label="Slide 1"></li>
          <li data-index="1" role="button" aria-label="Slide 2"></li>
          <li data-index="2" role="button" aria-label="Slide 3"></li>
          <li data-index="3" role="button" aria-label="Slide 4"></li>
          <li data-index="4" role="button" aria-label="Slide 5"></li>
        </ul>

        <div class="item-info">
          <h2 class="item-name">Sourdough Loaf</h2>
          <p class="item-price">HKD 48</p>
        </div>
      </div>
      
      <script>
        document.addEventListener('DOMContentLoaded', () => {
          const menuItems = [
            { name: "Sourdough Loaf", price: "HKD 48" },
            { name: "Signature Cheesecake", price: "HKD 68" },
            { name: "Chocolate Cookies (Box)", price: "HKD 120" },
            { name: "Buttery Croissants", price: "HKD 28" },
            { name: "Single-Origin Espresso", price: "HKD 30" }
          ];

          const root = document.querySelector('.part1-pickup-orginal-block');
          const track = root.querySelector('#menu-track');
          const cards = Array.from(root.querySelectorAll('.card'));
          const dots = Array.from(root.querySelectorAll('.dots li'));
          const itemNameEl = root.querySelector('.item-name');
          const itemPriceEl = root.querySelector('.item-price');
          const leftArrow = root.querySelector('.nav-arrow.left');
          const rightArrow = root.querySelector('.nav-arrow.right');
          let currentIndex = 0;
          let isAnimating = false;

          function updateCarousel(newIndex) {
            if (isAnimating) return;
            isAnimating = true;
            currentIndex = (newIndex + cards.length) % cards.length;

            cards.forEach((card, i) => {
              const offset = (i - currentIndex + cards.length) % cards.length;
              card.classList.remove('center', 'left-1', 'left-2', 'right-1', 'right-2', 'hidden');
              if (offset === 0) card.classList.add('center');
              else if (offset === 1) card.classList.add('right-1');
              else if (offset === 2) card.classList.add('right-2');
              else if (offset === cards.length - 1) card.classList.add('left-1');
              else if (offset === cards.length - 2) card.classList.add('left-2');
              else card.classList.add('hidden');
            });

            dots.forEach((d, i) => d.classList.toggle('active', i === currentIndex));

            if (itemNameEl) itemNameEl.style.opacity = '0';
            if (itemPriceEl) itemPriceEl.style.opacity = '0';

            setTimeout(() => {
              if (itemNameEl) itemNameEl.textContent = menuItems[currentIndex].name;
              if (itemPriceEl) itemPriceEl.textContent = menuItems[currentIndex].price;
              if (itemNameEl) itemNameEl.style.opacity = '1';
              if (itemPriceEl) itemPriceEl.style.opacity = '1';
            }, 250);

            setTimeout(() => { isAnimating = false; }, 800);
          }

          // controls
          if (leftArrow) leftArrow.addEventListener('click', () => updateCarousel(currentIndex - 1));
          if (rightArrow) rightArrow.addEventListener('click', () => updateCarousel(currentIndex + 1));
          dots.forEach((dot, i) => dot.addEventListener('click', () => updateCarousel(i)));
          cards.forEach((card, i) => card.addEventListener('click', () => updateCarousel(i)));
          document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') updateCarousel(currentIndex - 1);
            else if (e.key === 'ArrowRight') updateCarousel(currentIndex + 1);
          });

          // touch support bound to root
          let touchStartX = 0;
          root.addEventListener('touchstart', (e) => { touchStartX = e.changedTouches[0].screenX; }, { passive: true });
          root.addEventListener('touchend', (e) => {
            const touchEndX = e.changedTouches[0].screenX;
            const diff = touchStartX - touchEndX;
            if (Math.abs(diff) > 50) {
              if (diff > 0) updateCarousel(currentIndex + 1);
              else updateCarousel(currentIndex - 1);
            }
          }, { passive: true });

          // autoplay (simple, pauses while interacting)
          let autoplayId = null;
          const AUTOPLAY_MS = 4200;
          function startAutoplay() {
            stopAutoplay();
            autoplayId = setInterval(() => updateCarousel(currentIndex + 1), AUTOPLAY_MS);
          }
          function stopAutoplay() { if (autoplayId) { clearInterval(autoplayId); autoplayId = null; } }

          // pause on hover/focus for desktop
          const container = root.querySelector('.carousel-container');
          if (container) {
            container.addEventListener('mouseenter', stopAutoplay);
            container.addEventListener('mouseleave', startAutoplay);
            container.addEventListener('focusin', stopAutoplay);
            container.addEventListener('focusout', startAutoplay);
          }

          // initialize
          updateCarousel(0);
          startAutoplay();
        });
      </script>
    </div>

    <br><br>
    <!-- PART 2. pickup container (preserves original shadow colors; centered; left-tight start) -->
    <div class="part2-pickup-container">

      <div class="title-wrap">
        <h1 class="page-title">Pick Up Specials</h1>
        <p class="page-intro">Signature drinks and limited‑edition pastries prepped for pickup.</p>
      </div>
    
        <!-- SECTION A LTR (left-tight: first image flush) -->
        <section id="p2-carousel-cakes" class="carousel-section" data-direction="ltr" data-start-index="0" data-start-offset="0" aria-label="Trending Cakes">
            <h2 class="section-title">Trending Cakes</h2>
            <div class="carousel-container">
            <div class="carousel-viewport" tabindex="0" role="group" aria-label="Cakes carousel">
                <ul class="carousel-list">
                <li class="carousel-item"><img src="menu/cake/Cake_ChocolateCupCakes.png" alt="Chocolate Cupcakes"><div class="badge">HKD 45</div></li>
                <li class="carousel-item"><img src="menu/cake/Cake_BananaWalnutLoaf.png" alt="Banana Walnut Loaf"><div class="badge">HKD 50</div></li>
                <li class="carousel-item"><img src="menu/cake/Cake_TiramisuDelight.png" alt="Tiramisu Delight"><div class="badge">HKD 55</div></li>
                <li class="carousel-item"><img src="menu/cake/Cake_BlackTeaCake.png" alt="Black Tea Cake"><div class="badge">HKD 48</div></li>
                <li class="carousel-item"><img src="menu/cake/Cake_RedVelvetRoyale.png" alt="Red Velvet Royale"><div class="badge">HKD 60</div></li>
                <li class="carousel-item"><img src="menu/cake/Cake_OperaSlice.png" alt="Opera Slice"><div class="badge">HKD 52</div></li>
                </ul>
            </div>
            </div>
        </section>
    
        <!-- SECTION B RTL: visually reversed items + autoplay reversed -->
        <section id="p2-carousel-tea" class="carousel-section" data-direction="rtl" data-start-index="0" aria-label="Refreshing Teas">
            <h2 class="section-title">Refreshing Teas</h2>
            <div class="carousel-container">
            <div class="carousel-viewport" tabindex="0" role="group" aria-label="Teas carousel">
                <ul class="carousel-list">
                <li class="carousel-item"><img src="menu/tea/tea_Lemontea.png" alt="Lemon Tea"><div class="badge">HKD 30</div></li>
                <li class="carousel-item"><img src="menu/tea/tea_Greentea.png" alt="Green Tea"><div class="badge">HKD 28</div></li>
                <li class="carousel-item"><img src="menu/tea/tea_Gingertea.png" alt="Ginger Tea"><div class="badge">HKD 32</div></li>
                <li class="carousel-item"><img src="menu/tea/tea_Whitetea.png" alt="White Tea"><div class="badge">HKD 30</div></li>
                <li class="carousel-item"><img src="menu/tea/tea_Blacktea.png" alt="Black Tea"><div class="badge">HKD 33</div></li>
                <li class="carousel-item"><img src="menu/tea/tea_Jasmine.png" alt="Jasmine Tea"><div class="badge">HKD 31</div></li>
                </ul>
            </div>
            </div>
        </section>
    
        <!-- SECTION C LTR -->
        <section id="p2-carousel-coffees" class="carousel-section" data-direction="ltr" data-start-index="0" data-start-offset="0" aria-label="Trending Coffees">
            <h2 class="section-title">Trending Coffees</h2>
            <div class="carousel-container">
            <div class="carousel-viewport" tabindex="0" role="group" aria-label="Coffees carousel">
                <ul class="carousel-list">
                <li class="carousel-item"><img src="menu/coffee/coffee_Espresso.png" alt="Espresso"><div class="badge">HKD 25</div></li>
                <li class="carousel-item"><img src="menu/coffee/coffee_Cappuccino.png" alt="Cappuccino"><div class="badge">HKD 35</div></li>
                <li class="carousel-item"><img src="menu/coffee/coffee_Latte.png" alt="Latte"><div class="badge">HKD 38</div></li>
                <li class="carousel-item"><img src="menu/coffee/coffee_Mocha.png" alt="Mocha"><div class="badge">HKD 40</div></li>
                <li class="carousel-item"><img src="menu/coffee/coffee_IrishCoffee.png" alt="Irish Coffee"><div class="badge">HKD 48</div></li>
                <li class="carousel-item"><img src="menu/coffee/coffee_FlatWhite.png" alt="Flat White"><div class="badge">HKD 38</div></li>
                </ul>
            </div>
            </div>
        </section>
        <!-- SECTION D: Juices (RTL) - 6 images -->
        <section id="p2-carousel-Juices" class="carousel-section" data-direction="rtl" aria-label="Trending Cakes" data-start-index="0" data-start-offset="0">
        <h2 class="section-title">Trending Cakes</h2>
        <div class="carousel-container">
        <div class="carousel-viewport" tabindex="0" role="group" aria-label="Cakes carousel">
            <ul class="carousel-list">
                <li class="carousel-item"><img src="menu/juice/juice_Beatroot.png" alt="Beetroot Boost"><div class="badge">HKD 34</div></li>
                <li class="carousel-item"><img src="menu/juice/juice_Tomato.png" alt="Tomato Vitality"><div class="badge">HKD 30</div></li>
                <li class="carousel-item"><img src="menu/juice/juice_Orange.png" alt="Sunny Orange"><div class="badge">HKD 28</div></li>
                <li class="carousel-item"><img src="menu/juice/juice_Kiwi.png" alt="Kiwi Kick"><div class="badge">HKD 36</div></li>
                <li class="carousel-item"><img src="menu/juice/juice_Mongo.png" alt="Mango Delight"><div class="badge">HKD 39</div></li>
                <li class="carousel-item"><img src="menu/juice/juice_Watermelon.png" alt="Watermelon Delight"><div class="badge">HKD 42</div></li>
            </ul>
        </div>
        </div>
        </section>
    
    </div>
    
    <script>
    (function () {
      const root = document.querySelector('.part2-pickup-container');
      if (!root) return;
    
      function ensureEdgePadding(viewport, items, forcedOffsetPx) {
        if (!viewport || !items || items.length === 0) return;
        const vpW = viewport.clientWidth;
        const itemW = items[0].getBoundingClientRect().width || parseFloat(getComputedStyle(root).getPropertyValue('--card-w')) || 220;
        if (typeof forcedOffsetPx === 'number' && forcedOffsetPx === 0) {
          viewport.style.paddingLeft = '0px';
          viewport.style.paddingRight = Math.max(0, (vpW - itemW) / 2) + 'px';
        } else if (typeof forcedOffsetPx === 'number') {
          viewport.style.paddingLeft = forcedOffsetPx + 'px';
          viewport.style.paddingRight = Math.max(0, (vpW - itemW) / 2) + 'px';
        } else {
          const pad = Math.max(0, (vpW - itemW) / 2);
          viewport.style.paddingLeft = pad + 'px';
          viewport.style.paddingRight = pad + 'px';
        }
      }
    
      function initSection(section) {
        const dir = (section.getAttribute('data-direction') || 'ltr').toLowerCase();
        const startIndex = parseInt(section.getAttribute('data-start-index') || '0', 10) || 0;
        const hasOffset = section.hasAttribute('data-start-offset');
        const startOffset = hasOffset ? Number(section.getAttribute('data-start-offset')) : null;
        const container = section.querySelector('.carousel-container');
        const viewport = container.querySelector('.carousel-viewport');
        const list = container.querySelector('.carousel-list');
        const items = Array.from(list.children);
    
        // Visually reverse items for RTL but keep DOM order accessible
        if (dir === 'rtl') list.style.flexDirection = 'row-reverse';
        else list.style.flexDirection = '';
    
        let gap = 16;
        try { gap = parseInt(getComputedStyle(list).getPropertyValue('gap')) || gap; } catch (e) {}
    
        function step() { const item = items[0]; return item ? Math.round(item.getBoundingClientRect().width + gap) : 260; }
        // autoplay movement sign: for RTL we invert amount so visual motion is reversed
        function doNext() { const amt = dir === 'rtl' ? -step() : step(); viewport.scrollBy({ left: amt, behavior: 'smooth' }); }
        function doPrev() { const amt = dir === 'rtl' ? step() : -step(); viewport.scrollBy({ left: amt, behavior: 'smooth' }); }
    
        // keyboard
        viewport.addEventListener('keydown', (e) => {
          if (e.key === 'ArrowRight') { doNext(); resetAutoplay(); e.preventDefault(); }
          if (e.key === 'ArrowLeft') { doPrev(); resetAutoplay(); e.preventDefault(); }
        });
    
        // autoplay
        let autoplayTimer = null;
        const interval = 3000;
        let autoplay = true;
        function startAutoplay() {
          stopAutoplay();
          if (!autoplay) return;
          autoplayTimer = setInterval(() => {
            const max = viewport.scrollWidth - viewport.clientWidth;
            const cur = viewport.scrollLeft;
            // loop detection: for rtl we still compare scrollLeft against 0
            if ((dir === 'ltr' && cur >= max - 4) || (dir === 'rtl' && cur <= 4)) {
              if (dir === 'rtl') viewport.scrollTo({ left: max, behavior: 'smooth' });
              else viewport.scrollTo({ left: 0, behavior: 'smooth' });
            } else {
              doNext();
            }
          }, interval);
        }
        function stopAutoplay() { if (autoplayTimer) { clearInterval(autoplayTimer); autoplayTimer = null; } }
        function resetAutoplay() { stopAutoplay(); startAutoplay(); }
    
        [viewport].forEach(el => {
          el.addEventListener('mouseenter', stopAutoplay);
          el.addEventListener('mouseleave', startAutoplay);
          el.addEventListener('focusin', stopAutoplay);
          el.addEventListener('focusout', startAutoplay);
        });
    
        // swipe
        (function addSwipe() {
          let sx = 0, st = 0;
          viewport.addEventListener('touchstart', (e) => { sx = e.touches[0].clientX; st = Date.now(); stopAutoplay(); }, {passive:true});
          viewport.addEventListener('touchend', (e) => {
            const dx = e.changedTouches[0].clientX - sx; const dt = Date.now() - st;
            if (Math.abs(dx) > 40 && dt < 600) { if (dx < 0) doNext(); else doPrev(); }
            resetAutoplay();
          }, {passive:true});
        })();
    
        // center detection
        function updateCenter() {
          const rect = viewport.getBoundingClientRect();
          const centerX = rect.left + rect.width / 2;
          let closest = null, minD = Infinity;
          items.forEach(it => it.classList.remove('center-pop'));
          items.forEach(it => {
            const r = it.getBoundingClientRect(); const cx = r.left + r.width / 2; const d = Math.abs(cx - centerX);
            if (d < minD) { minD = d; closest = it; }
          });
          if (closest) closest.classList.add('center-pop');
        }
        viewport.addEventListener('scroll', () => requestAnimationFrame(updateCenter), {passive:true});
        window.addEventListener('resize', () => requestAnimationFrame(updateCenter));
        setTimeout(updateCenter, 120);
    
        // click-to-center / enter
        function centerItem(item) {
          if (!item) return;
          const r = item.getBoundingClientRect();
          const vp = viewport.getBoundingClientRect();
          const offset = (r.left + r.width/2) - (vp.left + vp.width/2);
          viewport.scrollBy({ left: offset, behavior: 'auto' });
        }
        items.forEach(it => {
          it.setAttribute('tabindex','0');
          it.addEventListener('click', () => { centerItem(it); it.focus(); });
          it.addEventListener('keydown', (e) => { if (e.key === 'Enter') centerItem(it); });
        });
    
        // padding & initial pos (left-tight support)
        ensureEdgePadding(viewport, items, hasOffset ? startOffset : undefined);
        let padTid = null;
        window.addEventListener('resize', () => { clearTimeout(padTid); padTid = setTimeout(() => ensureEdgePadding(viewport, items, hasOffset ? startOffset : undefined), 120); });
    
        function setInitialPosition() {
          const idx = Math.max(0, Math.min(items.length - 1, startIndex));
          const item = items[idx];
          if (!item) return;
    
          const vpRect = viewport.getBoundingClientRect();
          const itRect = item.getBoundingClientRect();
          const leftPad = parseFloat(getComputedStyle(viewport).paddingLeft) || 0;
    
          if (hasOffset && Number(startOffset) === 0) {
            const offset = itRect.left - vpRect.left - leftPad;
            // for visually reversed list (flex row-reverse) the DOM-first item is visually last,
            // but keep behavior simple: scrollLeft manipulation below keeps visual flush for LTR start sections only
            if (dir === 'rtl') {
              // compute max and set scrollLeft so first visual item is flush left
              const max = viewport.scrollWidth - viewport.clientWidth;
              // convert offset (distance from left of viewport) into scrollLeft value
              viewport.scrollLeft = Math.round(max - offset);
            } else {
              viewport.scrollLeft = Math.round(viewport.scrollLeft + offset);
            }
          } else {
            const offset = (itRect.left + itRect.width / 2) - (vpRect.left + vpRect.width / 2);
            if (dir === 'rtl') {
              const max = viewport.scrollWidth - viewport.clientWidth;
              // attempt to center visually for RTL
              viewport.scrollLeft = Math.round(max - (viewport.scrollLeft + offset)) || Math.round(max - offset);
              viewport.scrollBy({ left: -offset, behavior: 'auto' });
            } else {
              viewport.scrollLeft = Math.round(viewport.scrollLeft + offset);
            }
          }
          setTimeout(updateCenter, 60);
        }
    
        const imgs = items.map(i => i.querySelector('img')).filter(Boolean);
        if (imgs.length === 0) { setInitialPosition(); startAutoplay(); }
        else {
          let loaded = 0;
          imgs.forEach(img => {
            if (img.complete) { loaded++; if (loaded === imgs.length) { setInitialPosition(); startAutoplay(); } }
            else {
              img.addEventListener('load', () => { loaded++; if (loaded === imgs.length) { setInitialPosition(); startAutoplay(); } }, {once:true});
              img.addEventListener('error', () => { loaded++; if (loaded === imgs.length) { setInitialPosition(); startAutoplay(); } }, {once:true});
            }
          });
        }
    
        // expose controls
        section.__controls = { startAutoplay, stopAutoplay, resetAutoplay };
      }
    
      // initialize all sections
      function initAll() {
        const sections = root.querySelectorAll('.carousel-section');
        sections.forEach(sec => initSection(sec));
      }
    
      if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', initAll);
      else initAll();
    })();
    </script>
            
    <br><br>

    <!-- PART 3. pickup card -->
    <!-- PART 3 standalone block: .part3-pickup-card -->
    <div class="part3-pickup-card" aria-label="Pick up cards: juices, cookies, coffees">

      <div class="part3-pickup-card-title-wrap">
        <h1 class="part3-page-title">Our Manager Recommendation</h1>
        <p class="part3-page-intro">
          Carefully selected favourites from our manager — small-batch pastries, signature coffees and seasonal juices chosen for taste and value. Order ahead to skip the queue and enjoy exclusive pickup offers.
        </p>
      </div>
      <br>
      <!-- SECTION A: Juices (left text -> right images) -->
      <section class="vertical-carousel-1 stack-area" aria-labelledby="promo-juices">
        <div class="text-col" id="promo-juices">
          <h3 class="part3-boss-recommend" style="display:none">our boss recommend</h3>
          <h3>Fresh Cold-Pressed Juices</h3>
          <p><strong>Beetroot Boost</strong> — earth‑sweet beetroot with hints of apple and lemon for a refreshing immune lift.</p>
          <p><strong>Tomato Vitality</strong> — vine‑ripe tomatoes with celery and black pepper for a savoury vitamin kick.</p>
          <p><strong>Sunny Orange</strong> — hand‑squeezed oranges for a bright, citrusy start to your day.</p>
          <p>Pre-order for quick pickup. Cold‑pressed daily and ready to energize your morning.</p>
        </div>
    
        <div class="image-col" aria-hidden="false">
          <div class="card-wrapper">
            <div tabindex="0" class="card card--1" role="img" aria-label="Beetroot Boost juice" data-bg="menu/juice/juice_Beatroot.png">
              <div class="parallax-layer"></div>
              <div class="img-tag">Beetroot Boost</div>
              <div class="hover-caption">Beetroot, Apple, Lemon — 250ml</div>
              <div class="gloss" aria-hidden="true"></div>
              <div class="badge">HKD 34</div>
            </div>
          </div>
    
          <div class="card-wrapper">
            <div tabindex="0" class="card card--2" role="img" aria-label="Tomato Vitality juice" data-bg="menu/juice/juice_Tomato.png">
              <div class="parallax-layer"></div>
              <div class="img-tag">Tomato Vitality</div>
              <div class="hover-caption">Tomato, Celery, Black Pepper — 300ml</div>
              <div class="gloss" aria-hidden="true"></div>
              <div class="badge">HKD 30</div>
            </div>
          </div>
    
          <div class="card-wrapper">
            <div tabindex="0" class="card card--3" role="img" aria-label="Sunny Orange juice" data-bg="menu/juice/juice_Orange.png">
              <div class="parallax-layer"></div>
              <div class="img-tag">Sunny Orange</div>
              <div class="hover-caption">Fresh Orange — 300ml</div>
              <div class="gloss" aria-hidden="true"></div>
              <div class="badge">HKD 28</div>
            </div>
          </div>
        </div>
      </section>
    
      <br>
    
      <!-- SECTION B: Cookies (left images -> right text) -->
      <section class="vertical-carousel-2 stack-area reverse" aria-labelledby="promo-cookies">
        <div class="image-col" aria-hidden="false">
          <div class="card-wrapper">
            <div tabindex="0" class="card card--1" role="img" aria-label="Peanut Butter Cups cookie" data-bg="menu/Cookie/Cookie_PeanutButterCookieCups.png">
              <div class="parallax-layer"></div>
              <div class="img-tag">Peanut Butter Cups</div>
              <div class="hover-caption">Crunchy base, creamy peanut butter</div>
              <div class="gloss" aria-hidden="true"></div>
              <div class="badge">HKD 42</div>
            </div>
          </div>
    
          <div class="card-wrapper">
            <div tabindex="0" class="card card--2" role="img" aria-label="Thumbprint Jam cookie" data-bg="menu/Cookie/Cookie_Thumbprint.png">
              <div class="parallax-layer"></div>
              <div class="img-tag">Thumbprint Jam</div>
              <div class="hover-caption">Buttery rounds with seasonal jam</div>
              <div class="gloss" aria-hidden="true"></div>
              <div class="badge">HKD 38</div>
            </div>
          </div>
    
          <div class="card-wrapper">
            <div tabindex="0" class="card card--3" role="img" aria-label="Cinnamon Spice cookie" data-bg="menu/Cookie/Cookie_CinnamonCookies.png">
              <div class="parallax-layer"></div>
              <div class="img-tag">Cinnamon Spice</div>
              <div class="hover-caption">Warm cinnamon & brown sugar</div>
              <div class="gloss" aria-hidden="true"></div>
              <div class="badge">HKD 36</div>
            </div>
          </div>
        </div>
    
        <div class="text-col" id="promo-cookies">
          <h3>Bakery Cookies Collection</h3>
          <p><strong>Peanut Butter Cups</strong> — crunchy cookie base topped with creamy peanut butter and a chocolate finish.</p>
          <p><strong>Thumbprint Jam</strong> — buttery rounds filled with seasonal fruit preserves for a classic bite.</p>
          <p><strong>Cinnamon Spice</strong> — warm cinnamon and brown sugar make this a perfect companion to coffee.</p>
          <p>Reserve cookies for pickup — freshly baked and portioned to go.</p>
        </div>
      </section>
    
      <br>
    
      <!-- SECTION C: Coffees (left text -> right images) -->
      <section class="vertical-carousel-3 stack-area" aria-labelledby="promo-coffee">
        <div class="text-col" id="promo-coffee">
          <h3>Signature Coffee Moments</h3>
          <p><strong>Irish Coffee</strong> — smooth espresso fused with hints of cream for a comforting treat.</p>
          <p><strong>Espresso</strong> — single‑origin intensity, great as a short shot or base for milk drinks.</p>
          <p><strong>Flat White</strong> — velvety microfoam over pulled espresso for a silky mouthfeel.</p>
          <p>Pre-order your coffee to skip the queue. Add a cookie for a combo discount.</p>
        </div>
    
        <div class="image-col" aria-hidden="false">
          <div class="card-wrapper">
            <div tabindex="0" class="card card--1" role="img" aria-label="Irish Coffee" data-bg="menu/coffee/coffee_IrishCoffee.png">
              <div class="parallax-layer"></div>
              <div class="img-tag">Irish Coffee</div>
              <div class="hover-caption">Espresso, cream — 200ml</div>
              <div class="gloss" aria-hidden="true"></div>
              <div class="badge">HKD 48</div>
            </div>
          </div>
    
          <div class="card-wrapper">
            <div tabindex="0" class="card card--2" role="img" aria-label="Espresso" data-bg="menu/coffee/coffee_Espresso.png">
              <div class="parallax-layer"></div>
              <div class="img-tag">Espresso</div>
              <div class="hover-caption">Single-origin shot</div>
              <div class="gloss" aria-hidden="true"></div>
              <div class="badge">HKD 28</div>
            </div>
          </div>
    
          <div class="card-wrapper">
            <div tabindex="0" class="card card--3" role="img" aria-label="Flat White" data-bg="menu/coffee/coffee_Flatwhite.png">
              <div class="parallax-layer"></div>
              <div class="img-tag">Flat White</div>
              <div class="hover-caption">Silky microfoam</div>
              <div class="gloss" aria-hidden="true"></div>
              <div class="badge">HKD 38</div>
            </div>
          </div>
        </div>
      </section>
    
    </div>
    <script>
    (function () {
      const root = document.querySelector('.part3-pickup-card');
      if (!root) return;
    
      // ---- Helpers ----
      function qsAll(sel, ctx = document) { return Array.from((ctx || document).querySelectorAll(sel)); }
      function qs(sel, ctx = document) { return (ctx || document).querySelector(sel); }
    
      // ---- Prepare cards (set parallax-layer bg + preload) ----
      function prepareCards() {
        const cards = qsAll('.card', root);
        cards.forEach(card => {
          const bg = card.dataset.bg;
          const layer = qs('.parallax-layer', card);
          if (bg && layer) {
            // set as background-image on layer
            layer.style.backgroundImage = `url("${bg}")`;
            // preload
            const img = new Image();
            img.src = bg;
            img.onload = img.onerror = () => { card.dataset.loaded = "true"; };
          }
        });
      }
    
      // ---- IntersectionObserver for reveal ----
      const io = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          const card = entry.target;
          if (entry.isIntersecting) card.classList.add('visible');
          else card.classList.remove('visible');
        });
      }, { threshold: 0.45 });
    
      function observeCards() {
        qsAll('.card', root).forEach(c => io.observe(c));
      }
    
      // ---- Per-card parallax (pointer & touch) ----
      function attachParallax() {
        const cards = qsAll('.card', root);
        cards.forEach(card => {
          const layer = qs('.parallax-layer', card);
          if (!layer) return;
    
          // pointer/touch move handler, constrained and throttled by requestAnimationFrame
          let raf = null;
          function handleMove(clientX, clientY) {
            const r = card.getBoundingClientRect();
            // avoid division by zero
            if (!r.width || !r.height) return;
            const nx = (clientX - r.left) / r.width - 0.5;
            const ny = (clientY - r.top) / r.height - 0.5;
            const tx = Math.max(-1, Math.min(1, nx)) * 10; // px
            const ty = Math.max(-1, Math.min(1, ny)) * 8;  // px
            layer.style.transform = `translate3d(${tx}px, ${ty}px, 0) scale(1.02)`;
            // subtle card tilt/scale while hovering
            card.style.transform = `translateY(0) scale(1.01) rotateY(${Math.max(-1, Math.min(1, nx)) * 6}deg)`;
          }
    
          function onPointerMove(e) {
            const clientX = e.clientX ?? (e.touches && e.touches[0] && e.touches[0].clientX);
            const clientY = e.clientY ?? (e.touches && e.touches[0] && e.touches[0].clientY);
            if (clientX == null || clientY == null) return;
            if (raf) cancelAnimationFrame(raf);
            raf = requestAnimationFrame(() => handleMove(clientX, clientY));
          }
    
          function onLeave() {
            if (raf) cancelAnimationFrame(raf);
            layer.style.transform = '';
            card.style.transform = '';
          }
    
          card.addEventListener('pointermove', onPointerMove, { passive: true });
          card.addEventListener('pointerleave', onLeave, { passive: true });
          card.addEventListener('pointercancel', onLeave, { passive: true });
          card.addEventListener('touchmove', onPointerMove, { passive: true });
          card.addEventListener('touchend', onLeave, { passive: true });
    
          // keyboard focus visual behavior
          card.addEventListener('focus', () => card.classList.add('center-pop'));
          card.addEventListener('blur', () => card.classList.remove('center-pop'));
          card.addEventListener('focusin', () => {
            const cap = qs('.hover-caption', card);
            if (cap) { cap.style.opacity = '1'; cap.style.transform = 'translateY(0)'; }
          });
          card.addEventListener('focusout', () => {
            const cap = qs('.hover-caption', card);
            if (cap) { cap.style.opacity = ''; cap.style.transform = ''; }
          });
        });
      }
    
      // ---- Accessibility helpers ----
      function accessibility() {
        const cards = qsAll('.card', root);
        cards.forEach((c) => {
          // ensure focusable (if not already)
          if (!c.hasAttribute('tabindex')) c.setAttribute('tabindex', '0');
          c.addEventListener('keydown', e => {
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              c.classList.toggle('visible');
            }
          });
        });
      }
    
      // ---- Fallback initial reveal ----
      function revealInitial() {
        qsAll('.card', root).forEach((c, i) => setTimeout(() => c.classList.add('visible'), 120 + i * 80));
      }
    
      // ---- Autoplay for horizontal image columns ----
      function initAutoplay() {
        // Respect reduced motion preference
        if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
    
        const cols = qsAll('.image-col', root);
        cols.forEach(col => {
          // ensure only horizontal scrollbar shows
          col.style.overflowX = 'auto';
          col.style.overflowY = 'hidden';
    
          // detect if parent section has .reverse class -> visual reversed (play right->left)
          const section = col.closest('.stack-area');
          const reversed = !!(section && section.classList.contains('reverse'));
    
          let timer = null;
          const interval = 2800;
    
          function computeStep() {
            const wrapper = col.querySelector('.card-wrapper');
            if (!wrapper) return Math.round(parseFloat(getComputedStyle(root).getPropertyValue('--card-w')) || 320);
            const gap = parseInt(getComputedStyle(col).getPropertyValue('gap')) || 14;
            return Math.round(wrapper.getBoundingClientRect().width + gap);
          }
    
          function start() {
            stop();
            timer = setInterval(() => {
              const max = col.scrollWidth - col.clientWidth;
              const cur = col.scrollLeft;
              const step = computeStep();
              if (reversed) {
                // visual: right -> left
                if (cur <= 4) col.scrollTo({ left: max, behavior: 'smooth' });
                else col.scrollBy({ left: -step, behavior: 'smooth' });
              } else {
                // visual: left -> right
                if (cur >= max - 4) col.scrollTo({ left: 0, behavior: 'smooth' });
                else col.scrollBy({ left: step, behavior: 'smooth' });
              }
            }, interval);
          }
    
          function stop() { if (timer) { clearInterval(timer); timer = null; } }
    
          // Pause/resume interactions
          col.addEventListener('mouseenter', stop);
          col.addEventListener('mouseleave', start);
          col.addEventListener('focusin', stop);
          col.addEventListener('focusout', start);
          col.addEventListener('touchstart', stop, { passive: true });
          col.addEventListener('touchend', () => setTimeout(start, 300), { passive: true });
    
          // Start autoplay after a short delay so layout stabilizes
          setTimeout(start, 600);
        });
      }
    
      // ---- Init sequence ----
      function init() {
        prepareCards();
        observeCards();
        attachParallax();
        accessibility();
        revealInitial();
        initAutoplay();
        // reveal container
        root.style.opacity = '1';
      }
    
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
      } else init();
    
      // recompute backgrounds/presets on resize
      let resizeTid = null;
      window.addEventListener('resize', () => {
        clearTimeout(resizeTid);
        resizeTid = setTimeout(() => {
          prepareCards();
        }, 160);
      });
    
    })();
    </script>


    <br><br>

    <!-- 3. footer style-->
    <footer class="footer">
        <div class="footer-nav">
            <ul class="footer-navlist">
                <li class="footer-navitem">
                    <a href="#">ABOUT</a>
                </li>
                <li class="footer-navitem">
                    <a href="#">MENU</a>
                </li>
                <li class="footer-navitem">
                    <a href="#">PICK UP</a>
                </li>
                <li class="footer-navitem">
                    <a href="#">NEWS</a>
                </li>
                <li class="footer-navitem">
                    <a href="#">ACCESS</a>
                </li>
            </ul>
        </div>
        <div class="footer-logo">
            <div class="footer-logo-img">
                <img src="./Logo.png" alt="">
            </div>
        </div>
        <div class="footer-copyright">
            <div class="footer-copyright-infor">Cafe de Coral ©2025</div>
        </div>
    </footer>
    
</body>

</html>